define("tpl!audioRecordingInteraction/creator/tpl/propertiesForm",["handlebars"],function(t){return t.template(function(t,a,e,n,o){function i(){return"checked=\"checked\""}function s(){return"style=\"display:none\""}function l(){return" selected=\"selected\""}this.compilerInfo=[4,">= 1.0.0"],e=this.merge(e,t.helpers),o=o||{};var r,d,c,p="",h=e.helperMissing,u=this.escapeExpression,m=this;return p+="<div class=\"panel\">\n    <label for=\"response-identifier\" class=\"has-icon\">"+u((d=e.__||a&&a.__,c={hash:{},data:o},d?d.call(a,"Response identifier",c):h.call(a,"__","Response identifier",c)))+"</label>\n    <span class=\"icon-help tooltipstered\" data-tooltip=\"~ .tooltip-content:first\" data-tooltip-theme=\"info\"></span>\n    <div class=\"tooltip-content\">"+u((d=e.__||a&&a.__,c={hash:{},data:o},d?d.call(a,"The identifier of the choice. This identifier must not be used by any other response or item variable. An identifier is a string of characters that must start with a Letter or an underscore (\"_\") and contain only Letters, underscores, hyphens (\"-\"), period (\".\", a.k.a. full-stop), Digits, CombiningChars and Extenders.",c):h.call(a,"__","The identifier of the choice. This identifier must not be used by any other response or item variable. An identifier is a string of characters that must start with a Letter or an underscore (\"_\") and contain only Letters, underscores, hyphens (\"-\"), period (\".\", a.k.a. full-stop), Digits, CombiningChars and Extenders.",c)))+"</div>\n\n    <input id=\"response-identifier\"\n           type=\"text\"\n           name=\"identifier\"\n           value=\"",(d=e.identifier)?r=d.call(a,{hash:{},data:o}):(d=a&&a.identifier,r="function"==typeof d?d.call(a,{hash:{},data:o}):d),p+=u(r)+"\"\n           placeholder=\"e.g. RESPONSE\"\n           data-validate=\"$notEmpty; $qtiIdentifier; $availableIdentifier(serial=",(d=e.serial)?r=d.call(a,{hash:{},data:o}):(d=a&&a.serial,r="function"==typeof d?d.call(a,{hash:{},data:o}):d),p+=u(r)+");\">\n</div>\n\n<div class=\"panel\">\n    <label>\n        <input name=\"allowPlayback\" type=\"checkbox\" ",r=e.if.call(a,a&&a.allowPlayback,{hash:{},inverse:m.noop,fn:m.program(1,i,o),data:o}),(r||0===r)&&(p+=r),p+="/>\n        <span class=\"icon-checkbox\"></span> "+u((d=e.__||a&&a.__,c={hash:{},data:o},d?d.call(a,"Allow playback",c):h.call(a,"__","Allow playback",c)))+"\n    </label>\n    <span class=\"icon-help tooltipstered\" data-tooltip=\"~ .tooltip-content\" data-tooltip-theme=\"info\"></span>\n    <span class=\"tooltip-content\">\n        "+u((d=e.__||a&&a.__,c={hash:{},data:o},d?d.call(a,"Give the possibility to the test taker to playback its own recording.",c):h.call(a,"__","Give the possibility to the test taker to playback its own recording.",c)))+"\n    </span>\n</div>\n\n<div class=\"panel\">\n    <label>\n        <input name=\"hideStopButton\" type=\"checkbox\" ",r=e.if.call(a,a&&a.hideStopButton,{hash:{},inverse:m.noop,fn:m.program(1,i,o),data:o}),(r||0===r)&&(p+=r),p+="/>\n        <span class=\"icon-checkbox\"></span> "+u((d=e.__||a&&a.__,c={hash:{},data:o},d?d.call(a,"Hide stop button",c):h.call(a,"__","Hide stop button",c)))+"\n    </label>\n    <span class=\"icon-help tooltipstered\" data-tooltip=\"~ .tooltip-content\" data-tooltip-theme=\"info\"></span>\n    <span class=\"tooltip-content\">\n        "+u((d=e.__||a&&a.__,c={hash:{},data:o},d?d.call(a,"Hide the stop button from test takers.",c):h.call(a,"__","Hide the stop button from test takers.",c)))+"\n    </span>\n</div>\n\n<div class=\"panel\" data-role=\"autoStartOption\">\n    <label>\n        <input name=\"autoStart\" type=\"checkbox\" ",r=e.if.call(a,a&&a.autoStart,{hash:{},inverse:m.noop,fn:m.program(1,i,o),data:o}),(r||0===r)&&(p+=r),p+="/>\n        <span class=\"icon-checkbox\"></span> "+u((d=e.__||a&&a.__,c={hash:{},data:o},d?d.call(a,"Auto start recording",c):h.call(a,"__","Auto start recording",c)))+"\n    </label>\n    <span class=\"icon-help tooltipstered\" data-tooltip=\"~ .tooltip-content\" data-tooltip-theme=\"info\"></span>\n    <span class=\"tooltip-content\">\n        "+u((d=e.__||a&&a.__,c={hash:{},data:o},d?d.call(a,"Recording starts automatically once test taker give microphone use authorisation.",c):h.call(a,"__","Recording starts automatically once test taker give microphone use authorisation.",c)))+"\n    </span>\n</div>\n\n<div class=\"panel subpanel\" data-role=\"autoStartSubOptions\" ",r=e.unless.call(a,a&&a.autoStart,{hash:{},inverse:m.noop,fn:m.program(3,s,o),data:o}),(r||0===r)&&(p+=r),p+=">\n    <div data-role=\"delayOptions\">\n        <div class=\"panel\">\n            <label for=\"delay-minutes\" class=\"spinner\">"+u((d=e.__||a&&a.__,c={hash:{},data:o},d?d.call(a,"Min:",c):h.call(a,"__","Min:",c)))+"</label>\n            <input id=\"delay-minutes\" name=\"delayMinutes\" value=\"",(d=e.delayMinutes)?r=d.call(a,{hash:{},data:o}):(d=a&&a.delayMinutes,r="function"==typeof d?d.call(a,{hash:{},data:o}):d),p+=u(r)+"\" data-increment=\"1\" data-min=\"0\" data-max=\"20\" type=\"text\" />\n            <label for=\"delay-seconds\" class=\"spinner\">"+u((d=e.__||a&&a.__,c={hash:{},data:o},d?d.call(a,"Sec:",c):h.call(a,"__","Sec:",c)))+"</label>\n            <input id=\"delay-seconds\" name=\"delaySeconds\" value=\"",(d=e.delaySeconds)?r=d.call(a,{hash:{},data:o}):(d=a&&a.delaySeconds,r="function"==typeof d?d.call(a,{hash:{},data:o}):d),p+=u(r)+"\" data-increment=\"15\" data-min=\"0\" data-max=\"45\" type=\"text\" />\n        </div>\n    </div>\n\n    <div data-role=\"hideRecordOption\">\n        <div class=\"panel\">\n            <label>\n                <input name=\"hideRecordButton\" type=\"checkbox\" ",r=e.if.call(a,a&&a.hideRecordButton,{hash:{},inverse:m.noop,fn:m.program(1,i,o),data:o}),(r||0===r)&&(p+=r),p+="/>\n                <span class=\"icon-checkbox\"></span> "+u((d=e.__||a&&a.__,c={hash:{},data:o},d?d.call(a,"Hide record button",c):h.call(a,"__","Hide record button",c)))+"\n            </label>\n            <span class=\"icon-help tooltipstered\" data-tooltip=\"~ .tooltip-content\" data-tooltip-theme=\"info\"></span>\n            <span class=\"tooltip-content\">\n                "+u((d=e.__||a&&a.__,c={hash:{},data:o},d?d.call(a,"Hide the record button from test takers.",c):h.call(a,"__","Hide the record button from test takers.",c)))+"\n            </span>\n        </div>\n    </div>\n\n    <div data-role=\"sequentialOption\">\n        <div class=\"panel\">\n            <label>\n                <input name=\"sequential\" type=\"checkbox\" ",r=e.if.call(a,a&&a.sequential,{hash:{},inverse:m.noop,fn:m.program(1,i,o),data:o}),(r||0===r)&&(p+=r),p+="/>\n                <span class=\"icon-checkbox\"></span> "+u((d=e.__||a&&a.__,c={hash:{},data:o},d?d.call(a,"Sequential",c):h.call(a,"__","Sequential",c)))+"\n            </label>\n            <span class=\"icon-help tooltipstered\" data-tooltip=\"~ .tooltip-content\" data-tooltip-theme=\"info\"></span>\n            <span class=\"tooltip-content\">\n                "+u((d=e.__||a&&a.__,c={hash:{},data:o},d?d.call(a,"Indicates that the audio forms part of a sequence with other sequential interactions. The advancing of the sequence is handled by the delivery engine. Delays are also respected.",c):h.call(a,"__","Indicates that the audio forms part of a sequence with other sequential interactions. The advancing of the sequence is handled by the delivery engine. Delays are also respected.",c)))+"\n            </span>\n        </div>\n    </div>\n</div>\n\n<div class=\"panel\">\n    <label>\n        <input name=\"autoPlayback\" type=\"checkbox\" ",r=e.if.call(a,a&&a.autoPlayback,{hash:{},inverse:m.noop,fn:m.program(1,i,o),data:o}),(r||0===r)&&(p+=r),p+="/>\n        <span class=\"icon-checkbox\"></span> "+u((d=e.__||a&&a.__,c={hash:{},data:o},d?d.call(a,"Auto playback recording",c):h.call(a,"__","Auto playback recording",c)))+"\n    </label>\n    <span class=\"icon-help tooltipstered\" data-tooltip=\"~ .tooltip-content\" data-tooltip-theme=\"info\"></span>\n    <span class=\"tooltip-content\">\n        "+u((d=e.__||a&&a.__,c={hash:{},data:o},d?d.call(a,"Recorded audio is automatically played back after recording stops. During playback, no user interaction is possible and all buttons are disabled.",c):h.call(a,"__","Recorded audio is automatically played back after recording stops. During playback, no user interaction is possible and all buttons are disabled.",c)))+"\n    </span>\n</div>\n\n<div class=\"panel\">\n    <label>\n        <input name=\"playSound\" type=\"checkbox\" ",r=e.if.call(a,a&&a.playSound,{hash:{},inverse:m.noop,fn:m.program(1,i,o),data:o}),(r||0===r)&&(p+=r),p+="/>\n        <span class=\"icon-checkbox\"></span> "+u((d=e.__||a&&a.__,c={hash:{},data:o},d?d.call(a,"Play sound",c):h.call(a,"__","Play sound",c)))+"\n    </label>\n    <span class=\"icon-help tooltipstered\" data-tooltip=\"~ .tooltip-content\" data-tooltip-theme=\"info\"></span>\n    <span class=\"tooltip-content\">\n        "+u((d=e.__||a&&a.__,c={hash:{},data:o},d?d.call(a,"Play a sound at the start and end of recording.",c):h.call(a,"__","Play a sound at the start and end of recording.",c)))+"\n    </span>\n</div>\n\n<div class=\"panel\">\n    <label for=\"max-records\" class=\"spinner\">"+u((d=e.__||a&&a.__,c={hash:{},data:o},d?d.call(a,"Max attempts:",c):h.call(a,"__","Max attempts:",c)))+"</label>\n    <input id=\"max-records\" name=\"maxRecords\" value=\"",(d=e.maxRecords)?r=d.call(a,{hash:{},data:o}):(d=a&&a.maxRecords,r="function"==typeof d?d.call(a,{hash:{},data:o}):d),p+=u(r)+"\" class=\"large\" data-increment=\"1\" data-min=\"0\" type=\"text\" disabled />\n    <span class=\"icon-help tooltipstered\" data-tooltip=\"~ .tooltip-content\" data-tooltip-theme=\"info\"></span>\n    <span class=\"tooltip-content\">\n        "+u((d=e.__||a&&a.__,c={hash:{},data:o},d?d.call(a,"Maximum number of recording attempts allowed to the test taker. Set to 0 to allow unlimited attempts. With a limit of 3, the test taker will be able to click 2 times on the reset button.",c):h.call(a,"__","Maximum number of recording attempts allowed to the test taker. Set to 0 to allow unlimited attempts. With a limit of 3, the test taker will be able to click 2 times on the reset button.",c)))+"\n    </span>\n</div>\n\n<div class=\"panel\">\n    <label for=\"max-recording-time\" class=\"spinner\">"+u((d=e.__||a&&a.__,c={hash:{},data:o},d?d.call(a,"Time limit:",c):h.call(a,"__","Time limit:",c)))+"</label>\n    <input id=\"max-recording-time\" name=\"maxRecordingTime\" value=\"",(d=e.maxRecordingTime)?r=d.call(a,{hash:{},data:o}):(d=a&&a.maxRecordingTime,r="function"==typeof d?d.call(a,{hash:{},data:o}):d),p+=u(r)+"\" class=\"large\" data-increment=\"5\" data-min=\"5\" data-max=\"",(d=e.maximumRecordingTimeLimit)?r=d.call(a,{hash:{},data:o}):(d=a&&a.maximumRecordingTimeLimit,r="function"==typeof d?d.call(a,{hash:{},data:o}):d),p+=u(r)+"\" type=\"text\" />\n    <span class=\"icon-help tooltipstered\" data-tooltip=\"~ .tooltip-content\" data-tooltip-theme=\"info\"></span>\n    <span class=\"tooltip-content\">\n        "+u((d=e.__||a&&a.__,c={hash:{},data:o},d?d.call(a,"In seconds. Maximum recording time allowed (cannot be less than 5 seconds). Recording will automatically stop once reached.",c):h.call(a,"__","In seconds. Maximum recording time allowed (cannot be less than 5 seconds). Recording will automatically stop once reached.",c)))+"\n    </span>\n</div>\n\n<hr />\n<div class=\"panel\">\n    <label for=\"is-compressed\">"+u((d=e.__||a&&a.__,c={hash:{},data:o},d?d.call(a,"Recording format",c):h.call(a,"__","Recording format",c)))+"</label>\n    <span class=\"icon-help tooltipstered\" data-tooltip=\"~ .tooltip-content\" data-tooltip-theme=\"info\"></span>\n    <span class=\"tooltip-content\">\n        "+u((d=e.__||a&&a.__,c={hash:{},data:o},d?d.call(a,"With compressed recording, the audio is saved as a webm or ogg file (smaller size). With uncompressed, as a lossless Wav file (much bigger size).",c):h.call(a,"__","With compressed recording, the audio is saved as a webm or ogg file (smaller size). With uncompressed, as a lossless Wav file (much bigger size).",c)))+"\n    </span>\n    <select id=\"is-compressed\" name=\"isCompressed\">\n        <option value=\"true\"",r=e.if.call(a,a&&a.isCompressed,{hash:{},inverse:m.noop,fn:m.program(5,l,o),data:o}),(r||0===r)&&(p+=r),p+=">"+u((d=e.__||a&&a.__,c={hash:{},data:o},d?d.call(a,"Compressed",c):h.call(a,"__","Compressed",c)))+"</option>\n        <option value=\"false\"",r=e.unless.call(a,a&&a.isCompressed,{hash:{},inverse:m.noop,fn:m.program(5,l,o),data:o}),(r||0===r)&&(p+=r),p+=">"+u((d=e.__||a&&a.__,c={hash:{},data:o},d?d.call(a,"Uncompressed",c):h.call(a,"__","Uncompressed",c)))+"</option>\n    </select>\n</div>\n\n<div data-role=\"compressedOptions\" ",r=e.unless.call(a,a&&a.isCompressed,{hash:{},inverse:m.noop,fn:m.program(3,s,o),data:o}),(r||0===r)&&(p+=r),p+=">\n    <div class=\"panel\">\n        <label for=\"audio-bitrate\" class=\"spinner\">"+u((d=e.__||a&&a.__,c={hash:{},data:o},d?d.call(a,"Audio bitrate:",c):h.call(a,"__","Audio bitrate:",c)))+"</label>\n        <input id=\"audio-bitrate\" name=\"audioBitrate\" value=\"",(d=e.audioBitrate)?r=d.call(a,{hash:{},data:o}):(d=a&&a.audioBitrate,r="function"==typeof d?d.call(a,{hash:{},data:o}):d),p+=u(r)+"\" class=\"large\" data-increment=\"1000\" data-min=\"8000\" type=\"text\" />\n        <span class=\"icon-help tooltipstered\" data-tooltip=\"~ .tooltip-content\" data-tooltip-theme=\"info\"></span>\n        <span class=\"tooltip-content\">\n            "+u((d=e.__||a&&a.__,c={hash:{},data:o},d?d.call(a,"In bps (bits per second). Set the tradeoff between audio quality and filesize. With the default value (20.000bps), a 2minutes recording weights roughly 300KB.",c):h.call(a,"__","In bps (bits per second). Set the tradeoff between audio quality and filesize. With the default value (20.000bps), a 2minutes recording weights roughly 300KB.",c)))+"\n        </span>\n    </div>\n</div>\n\n<div data-role=\"uncompressedOptions\"  ",r=e.if.call(a,a&&a.isCompressed,{hash:{},inverse:m.noop,fn:m.program(3,s,o),data:o}),(r||0===r)&&(p+=r),p+=">\n    <div class=\"panel\">\n        <label for=\"is-stereo\">"+u((d=e.__||a&&a.__,c={hash:{},data:o},d?d.call(a,"Channels",c):h.call(a,"__","Channels",c)))+"</label>\n        <span class=\"icon-help tooltipstered\" data-tooltip=\"~ .tooltip-content\" data-tooltip-theme=\"info\"></span>\n        <span class=\"tooltip-content\">\n            "+u((d=e.__||a&&a.__,c={hash:{},data:o},d?d.call(a,"Number of channels for the recording. Allow to cut the record size in half if used in mono.",c):h.call(a,"__","Number of channels for the recording. Allow to cut the record size in half if used in mono.",c)))+"\n        </span>\n        <select id=\"is-stereo\" name=\"isStereo\">\n            <option value=\"false\"",r=e.unless.call(a,a&&a.isStereo,{hash:{},inverse:m.noop,fn:m.program(5,l,o),data:o}),(r||0===r)&&(p+=r),p+=">"+u((d=e.__||a&&a.__,c={hash:{},data:o},d?d.call(a,"Mono",c):h.call(a,"__","Mono",c)))+"</option>\n            <option value=\"true\"",r=e.if.call(a,a&&a.isStereo,{hash:{},inverse:m.noop,fn:m.program(5,l,o),data:o}),(r||0===r)&&(p+=r),p+=">"+u((d=e.__||a&&a.__,c={hash:{},data:o},d?d.call(a,"Stereo",c):h.call(a,"__","Stereo",c)))+"</option>\n        </select>\n    </div>\n</div>\n\n<hr />\n\n<h3 class=\"txt-error\"><strong><span class=\"icon-warning\"></span> "+u((d=e.__||a&&a.__,c={hash:{},data:o},d?d.call(a,"For tests only",c):h.call(a,"__","For tests only",c)))+"</strong></h3>\n\n<div class=\"panel\">\n    <label>\n        <input name=\"displayDownloadLink\" type=\"checkbox\" ",r=e.if.call(a,a&&a.displayDownloadLink,{hash:{},inverse:m.noop,fn:m.program(1,i,o),data:o}),(r||0===r)&&(p+=r),p+="/>\n        <span class=\"icon-checkbox\"></span>\n        "+u((d=e.__||a&&a.__,c={hash:{},data:o},d?d.call(a,"Allow download",c):h.call(a,"__","Allow download",c)))+"\n    </label>\n    <span class=\"icon-help tooltipstered\" data-tooltip=\"~ .tooltip-content\" data-tooltip-theme=\"info\"></span>\n    <span class=\"tooltip-content\">\n        "+u((d=e.__||a&&a.__,c={hash:{},data:o},d?d.call(a,"This is for testing purposes only. Displays a link to download the recorded file once the recording stops. This shouldn't be used in a delivery context, as it would allow the test taker to download its own recording.",c):h.call(a,"__","This is for testing purposes only. Displays a link to download the recorded file once the recording stops. This shouldn't be used in a delivery context, as it would allow the test taker to download its own recording.",c)))+"\n    </span>\n</div>\n\n<div class=\"panel\">\n    <label for=\"partial-update-interval\" class=\"spinner\">"+u((d=e.__||a&&a.__,c={hash:{},data:o},d?d.call(a,"Update interval:",c):h.call(a,"__","Update interval:",c)))+"</label>\n    <input id=\"partial-update-interval\" name=\"partialUpdateInterval\" value=\"",(d=e.partialUpdateInterval)?r=d.call(a,{hash:{},data:o}):(d=a&&a.partialUpdateInterval,r="function"==typeof d?d.call(a,{hash:{},data:o}):d),p+=u(r)+"\" class=\"large\" data-increment=\"1\" data-min=\"1\" data-max=\"60\" type=\"text\" />\n    <span class=\"icon-help tooltipstered\" data-tooltip=\"~ .tooltip-content\" data-tooltip-theme=\"info\"></span>\n    <span class=\"tooltip-content\">\n        "+u((d=e.__||a&&a.__,c={hash:{},data:o},d?d.call(a,"In seconds. The time interval between partial updates of the recording.",c):h.call(a,"__","In seconds. The time interval between partial updates of the recording.",c)))+"\n    </span>\n</div>"})}),define("audioRecordingInteraction/creator/widget/states/Question",["lodash","i18n","jquery","module","taoQtiItem/qtiCreator/widgets/states/factory","taoQtiItem/qtiCreator/widgets/interactions/states/Question","taoQtiItem/qtiCreator/widgets/helpers/formElement","taoQtiItem/qtiCreator/widgets/helpers/pciMediaManager/pciMediaManager","taoQtiItem/qtiCreator/editor/simpleContentEditableElement","tpl!audioRecordingInteraction/creator/tpl/propertiesForm"],function(t,a,e,n,o,i,s,l,r,d){"use strict";function c(t,a,e){t.prop(e,a),t.triggerPci("configChange",[t.getProperties()])}function p(t,a){return void 0===t?a:""!==t&&(!0===t||"true"===t)}var h=o.extend(i,function(){},function(){var t=this.widget.$container;r.destroy(t)});return h.prototype.initForm=function(){var a,e,o,i,r,h=this.widget,u=h.$form,m=h.element,_=m.getResponseDeclaration(),f=l(h);u.html(d(t.defaults({},n.config(),{serial:_.serial,identifier:m.attr("responseIdentifier"),allowPlayback:p(m.prop("allowPlayback"),!0),hideStopButton:p(m.prop("hideStopButton"),!1),autoStart:p(m.prop("autoStart"),!1),sequential:!!m.hasClass("sequential"),hideRecordButton:p(m.prop("hideRecordButton"),!1),autoPlayback:p(m.prop("autoPlayback"),!1),playSound:p(m.prop("playSound"),!1),delayMinutes:m.prop("delayMinutes"),delaySeconds:m.prop("delaySeconds"),maxRecords:m.prop("maxRecords"),maxRecordingTime:m.prop("maxRecordingTime"),isCompressed:p(m.prop("isCompressed"),!0),audioBitrate:m.prop("audioBitrate"),isStereo:p(m.prop("isStereo"),!1),updateResponsePartially:p(m.prop("updateResponsePartially"),!0),partialUpdateInterval:parseInt(m.prop("partialUpdateInterval"),10)/1e3,displayDownloadLink:p(m.prop("displayDownloadLink"),!1),enableDomEvents:p(m.prop("enableDomEvents"),!1)}))),a=u.find("[data-role=\"compressedOptions\"]"),e=u.find("[data-role=\"uncompressedOptions\"]"),o=u.find("[data-role=\"autoStartSubOptions\"]"),i=u.find("[data-role=\"sequentialOption\"]"),u.find("[data-role=\"delayOptions\"]"),r=u.find("[data-role=\"hideRecordOption\"]"),s.initWidget(u),s.setChangeCallbacks(u,m,t.assign({identifier:function(t,a){_.id(a),m.attr("responseIdentifier",a)},allowPlayback:c,hideStopButton:c,autoStart:function(t,a,e){a?o.show():(o.hide(),r.find("input[name=\"hideRecordButton\"]").prop("checked",!1),c(t,!1,"hideRecordButton"),i.find("input[name=\"sequential\"]").prop("checked",!1),u.find("input[name=\"maxRecords\"]").prop("disabled",!1),m.toggleClass("sequential",!1),c(t,!1,"enableDomEvents")),c(t,a,e)},sequential:function(t,a){a?(u.find("input[name=\"maxRecords\"]").prop("value",1).prop("disabled",!0),c(t,1,"maxRecords")):u.find("input[name=\"maxRecords\"]").prop("disabled",!1),m.toggleClass("sequential",a),c(t,a,"enableDomEvents")},hideRecordButton:c,autoPlayback:c,playSound:c,delayMinutes:c,delaySeconds:c,maxRecords:c,maxRecordingTime:c,isCompressed:function(t,n,o){"true"===n?(e.hide(),a.show()):(e.show(),a.hide()),c(t,n,o)},audioBitrate:c,isStereo:c,partialUpdateInterval:function(t,a,e){a=1e3*parseFloat(a),c(t,a,e)},displayDownloadLink:c},f.getChangeCallbacks())),m.hasClass("sequential")||u.find("input[name=\"maxRecords\"]").prop("disabled",!1),f.init()},h}),define("audioRecordingInteraction/creator/widget/states/states",["taoQtiItem/qtiCreator/widgets/states/factory","taoQtiItem/qtiCreator/widgets/interactions/customInteraction/states/states","audioRecordingInteraction/creator/widget/states/Question"],function(t,a){"use strict";return t.createBundle(a,arguments,["answer","correct","map"])}),define("css!audioRecordingInteraction/creator/css/audioRecordingInteraction",[],function(){}),define("audioRecordingInteraction/creator/widget/Widget",["taoQtiItem/qtiCreator/widgets/interactions/customInteraction/Widget","audioRecordingInteraction/creator/widget/states/states","css!audioRecordingInteraction/creator/css/audioRecordingInteraction"],function(t,a){"use strict";var e=t.clone();return e.initCreator=function(){var e;this.registerStates(a),t.initCreator.call(this),e=this.$container.find(".audioRecordingInteraction"),e.length&&e.addClass("tao-qti-creator-context")},e}),define("tpl!audioRecordingInteraction/creator/tpl/markup",["handlebars"],function(t){return t.template(function(t,a,e,n,o){return this.compilerInfo=[4,">= 1.0.0"],e=this.merge(e,t.helpers),o=o||{},"<div class=\"audioRecordingInteraction\">\n    <div class=\"audio-rec\">\n        <div class=\"input-meter\">\n            <div class=\"countdown-pie-chart\"> </div>\n            <div class=\"leds\"> </div>\n            <div class=\"mic\"> </div>\n        </div>\n        <div class=\"progress\"> </div>\n        <div class=\"controls\"> </div>\n    </div>\n</div>"})}),define("audioRecordingInteraction/imsPciCreator",["lodash","taoQtiItem/qtiCreator/editor/customInteractionRegistry","audioRecordingInteraction/creator/widget/Widget","tpl!audioRecordingInteraction/creator/tpl/markup"],function(t,a,e,n){"use strict";var o={getTypeIdentifier:function(){return"audioRecordingInteraction"},getWidget:function(){var a;return e.beforeStateInit(function(e,n){n.typeIdentifier&&"audioRecordingInteraction"===n.typeIdentifier&&(a=o.getDefaultProperties(),t.forEach(a,function(t,a){void 0===n.properties[a]&&(n.properties[a]=t)}))}),e},getDefaultProperties:function(){return{isReviewMode:!1,allowPlayback:!0,hideStopButton:!1,autoStart:!1,hideRecordButton:!1,autoPlayback:!1,playSound:!1,delayMinutes:0,delaySeconds:0,maxRecords:2,maxRecordingTime:120,isCompressed:!0,audioBitrate:2e4,isStereo:!1,media:{autostart:!0,replayTimeout:5,maxPlays:2},displayDownloadLink:!1,updateResponsePartially:!0,partialUpdateInterval:1e3}},afterCreate:function(){},getMarkupTemplate:function(){return n},getMarkupData:function(t,a){return a}};return o}),function(t){var a=document,o=a.createElement("style");o.type="text/css",a.getElementsByTagName("head")[0].appendChild(o),o.styleSheet?o.styleSheet.cssText=t:o.appendChild(a.createTextNode(t))}(".item-editor-interaction-related .panel[data-role=\"autoStartOption\"]+.panel.panel[data-role=\"autoStartSubOptions\"]{margin-top:-15px}.item-editor-interaction-related div[data-role=\"delayOptions\"] .panel label{padding-left:5px}\n\n/*# sourceMappingURL=audioRecordingInteraction.css.map */"),define(["audioRecordingInteraction/imsPciCreator"],function(t){return t});